extends ../layout/index

block content
    div.py-10
        h1.text-4xl.my-10.font-extrabold.text-center(style="color: #DD6E42;") Real
            span.font-normal.font-normal State
        h2.text-center.text-2xl.font-extrabold= page
        if errors
            each error, index in errors
                div(class="bg-red-300 border-t-4 border-red-800 rounded-b text-teal-700 px-4 py-3 shadow-md mb-4" role="alert" id=`errorAlert-${index}`)
                    div(class="flex")
                        div(class="py-1")
                            svg(class="fill-current h-6 w-6 text-white mr-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20")
                                path(d='M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5')
                        div
                            p(class="font-bold" style="color: #4F6D7A")= error.msg
    div(class="mt-8 mx-auto max-w-md" style="background-color: #E8DAB2;").bg-white.py-8.px-4.shadow.rounded-2xl
        form(class="space-y-5" action="/login/register" method="POST" novalidate)
            div
                label(class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="name") Your Name
                input#nombre(class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" placeholder="Your Name" type="text" name="name" value=user? user.name : '' required)
            div
                label(class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="email") Your Email
                input#email(class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" placeholder="Your Email" type="email" name="email" value=user? user.email : '' required)
            div
                label(class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="password") Your Password
                input#password(class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" placeholder="Your Password" type="password" name="password" required)
            div
                label(class="block text-sm uppercase text-gray-500 mb-2 font-bold" for="repeatPassword") Repeat your Password
                input#repeatPassword(class="w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400" placeholder="Repeat your Password" type="password" name="repeatPassword" required)
            div(class="flex items-center justify-between")
                a(class="text-gray-500 text-xs hover:text-gray-700 hover:underline" href="/login") You have an account? Log in here
                a(class="text-gray-500 text-xs hover:text-gray-700 hover:underline" href="./recovery") I forgot my password

            input(class="w-full  bg-blue-400 text-white font-bold py-3 rounded-md transition-all ease-in-out duration-300 transform hover:scale-95 hover:bg-blue-600 cursor-pointer" type="submit" value="Create Account")

    script.
        document.addEventListener("DOMContentLoaded", function() {
            const errorAlerts = document.querySelectorAll('.bg-teal-100');
            errorAlerts.forEach((alert, index) => {
                setTimeout(() => {
                    alert.style.transition = 'transform 0.4s ease-in-out';
                    alert.style.transform = 'translateX(100%)';
                    setTimeout(() => {
                        alert.style.display = 'none';
                    }, 400);
                }, (index + 1) * 3000); 
            });
        });
